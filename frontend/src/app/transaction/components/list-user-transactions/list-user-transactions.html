<div class="transactions-container">
  <h2>Minhas Transações</h2>

  <div *ngIf="transactions.length === 0" class="empty-message">
    Você ainda não participou de nenhuma transação.
  </div>

  <div *ngFor="let t of transactions" class="transaction-card">
    <div class="transaction-info">
      <h3><strong>{{ t.materialName }}</strong></h3>
      <p><strong>Tipo:</strong> {{ t.transactionType }}</p>
      <p><strong>Status:</strong> {{ t.status }}</p>
      <p><strong>Anunciante: </strong> <a [routerLink]="[ '/profile', t.announcerId ]">{{ t.announcerName }}</a></p>
      <p><strong>Interessado: </strong>{{ t.receiverName }}</p>
    </div>

    <div class="transaction-actions">
      <!-- botão aparece só quando concluída -->
      <button
        class="btn btn-primary"
        *ngIf="t.status === 'CONCLUDED' && !hasReview(t.id) && isReceiver(t)"
        [routerLink]="['review', t.id]"
      >
        Avaliar Transação
      </button>
    </div>
  </div>
</div>
